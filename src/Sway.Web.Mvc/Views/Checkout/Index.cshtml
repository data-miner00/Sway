@using Sway.Core.Dtos
@using System.Linq
@model IEnumerable<CartItemDto>
@{
    ViewData["Title"] = "Checkout";
    var totalCost = Model.Sum(x => x.UnitPrice * x.Quantity);
}

<h1 class="text-xl font-bold mb-4">Checkout</h1>

<div class="flex flex-col gap-4">
    @foreach (var item in Model)
    {
        <a asp-action="Details" asp-controller="Product" asp-route-id="@item.ProductId">
            <article class="bg-gray-100 p-4 flex gap-2">
                <div class="w-10 h-10">
                    <figure>
                        <img
                            src="@Constants.TestItemPhotoUrl"
                            alt="Shoes"
                        />
                    </figure>
                </div>

                <div>
                    <p>@item.ProductName</p>
                    <p>@item.ProductDescription</p>

                    <p>@item.UnitPrice</p>
                    <p>@item.Quantity</p>
                    <p>Added at @item.AddedAt</p>

                    <p>Total: RM@(item.UnitPrice * item.Quantity)</p>
                </div>
            </article>
        </a>
    }
</div>

<p>Shipping Address</p>

<p>Billing Address</p>

<p>Total Amount: RM @totalCost</p>

<a class="btn btn-primary">Submit Order</a>
<a class="btn btn-ghost">Cancel</a>
